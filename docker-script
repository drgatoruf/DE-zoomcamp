PS1='> '

echo 'PS1="> "' > ~/.bashrc

python list_files.py

echo $(pwd)

git status

git add .

git commit -m 'pipeline'

docker run -it --rm test:pandas 16

docker run -it --rm --entrypoint=bash test:pandas

# Postgres-docker, inside Jupyter notebook, excute '!uv add sqlalchemy' to install sqlalchemy, which
# can be done in Terminal as well, both methods work.

# 260207. 
# Set up Git Bash on local machine
echo 'cd /c/Users/isz11/git/data-engineering-zoomcamp/' > ~/.bashrc

# Install uv in Git-bash, 'pip install uv'
# $ uv -V
# bash: uv: command not found
# However, 'pip show uv' works fine.
# Then run below:
$ python -m uv -V
uv 0.10.0 (0ba432459 2026-02-05)

# After running Jupyter Notebook
uv add --dev sqlalchemy "psycopg[binary,pool]"

# After 'docker-compose up', ingest_data pipeline can be run using:
docker build -t taxi_ingest:v001 .

docker run -it --rm\
  --network=pipeline_default \
  taxi_ingest:v001 \
    --pg-user=root \
    --pg-pass=root \
    --pg-host=pgdatabase \
    --pg-port=5432 \
    --pg-db=ny_taxi


#   --target-table=yellow_taxi_trips

# On local Git bash, the following codes helped on some errors:
pip show uv
python -m pip show uv
python -m ...

# Restart codespace as well

docker run -it --rm\
  --network=pl_default \
  taxi_ingest:v001 \
    --pg-user=root \
    --pg-pass=root \
    --pg-host=pgdatabase \
    --pg-port=5432 \
    --pg-db=ny_taxi \
    --target-table=yellow_taxi_trips

docker run -it \
  -e PGADMIN_DEFAULT_EMAIL="admin@admin.com" \
  -e PGADMIN_DEFAULT_PASSWORD="root" \
  -v pgadmin_data:/var/lib/pgadmin \
  -p 8085:80 \
  --network=pg-network \
  --name pgadmin \
  dpage/pgadmin4


uv run pgcli -h localhost -p 5432 -u root -d ny_taxi

# pgcli works fine, but no data ingested yet

docker run -it --rm\
  --network=pg-network \
  taxi_ingest:v001 \
    --pg-user=root \
    --pg-pass=root \
    --pg-host=pgdatabase \
    --pg-port=5432 \
    --pg-db=ny_taxi \
    --target-table=yellow_taxi_trips

#Still no luck

uv run python ingest_data.py \
  --pg-user=root \
  --pg-pass=root \
  --pg-host=localhost \
  --pg-port=5432 \
  --pg-db=ny_taxi \
  --target-table=yellow_taxi_trips